<panzoom ng-if="!vm.image.type" model="vm.model" config="vm.config" class="ld-image-wrapper" id="ld-image-{{ ::vm.image.id }}">
	<img class="ld-image" ng-src="{{ vm.state.image.url }}" ng-title="{{ ::vm.state.image.title }}">
	<img class="ld-image-overlay" ng-src="{{ vm.state.overlay.url }}" ng-show="vm.state.overlay.visible && vm.state.overlay.url" ng-style="vm.state.overlay.style">
	<div class="js-map map"></div>
</panzoom>
<div class="ld-image-scrollbar" ng-if="!vm.image.type && vm.image.slices && vm.image.slices.length > 1" tabindex="0">
	<div class="ld-image-scrollbar-overview">{{ vm.state.image.activeSlice.i + 1 }} / {{ ::vm.image.slices.length }}</div>
	<div class="ld-image-scrollbar-slice" ng-repeat="slice in vm.image.slices" ng-mousedown="vm.onMousedown($event, slice)" ng-class="{active: vm.state.image.activeSlice === slice, 'has-overlay': vm.state.overlay.visible && slice.overlays.length > 0, 'has-marks': slice.marks}"></div>
</div>
<div ng-if="vm.image.type === 'wsi'" style="height: 100%;">
	<iframe allow="fullscreen" width="100%" height="100%" style="border: 0;" ng-src="{{ vm.image.url }}"></iframe>
</div>
<div ng-if="vm.image.type === 'meta'" style="height: 100%;">
	<iframe allow="fullscreen" width="100%" height="100%" style="border: 0;" ng-src="{{ vm.image.url }}"></iframe>
</div>